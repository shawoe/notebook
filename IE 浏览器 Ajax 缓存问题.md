## IE 浏览器 Ajax 缓存问题 ##

项目中使用 ajax 无刷新请求后台服务器数据的时候，IE 下出现各种提交表单后数据不能正常显示的BUG，但是 FireFox 和 Chrome 均正常，因为项目用到了KISSY，怀疑是浏览器不兼容问题没能正确向后端传值，debug发现KISSY兼容性是没有问题的，于是无奈的清理了浏览器缓存，结果问题解决了。

因为刚开始并不知道 IE 有这个坏毛病，折腾好久，无奈 ing，总不能每次提醒 IE 用户手动清理缓存吧？当时想到的是，能否用脚本自动清理浏览器缓存？

不过幸运的是，度娘帮我解决了这个BUG。

### BUG 是生来就有的 ###

在默认情况下，IE 会针对请求地址缓存 Ajax 请求的结果。换句话说，在缓存过期之前，针对相同地址发起的多个       Ajax 请求，只有第一次会真正发送到服务端。

在某些情况下，这种默认的缓存机制并不是我们希望的（比如获取实时数据）。在 IE 下用 Ajax 请求某一页面，通常会因为缓存的原因而返回上一次的结果，造成混乱（比如说多次请求却没有响应）。

GET方式获取数据时，因发送参数和地址都一致，故 IE 浏览器会从缓存中取，而不会去请求服务器端，而 POST 方式因为参数的不同，不会产生这个问题，而 FireFox 和 Chrome 下不会出现这种情况。

### 方法一：改变 IE 访问策略 ###
Internet选项 --> 浏览历史记录 --> 设置 --> Internet 临时文件的选项改为 __每次访问网页时__ 。
 
当然这是不合理的，因为我们不能要求用户每次都手动设置，一是很麻烦，用户体验不好，二是要考虑到一些小白。

### 方法二：给URL添加时间戳 ###
在AJAX请求的页面后加个随机函数，例如我们可以使用随机时间函数：

	URL + "&" + "r=" + Math.random();
或者直接加上一个时间戳：

	URL + "?t" + new Date().getTime();

### 方法三：改变jQuery的Ajax设置
另外我们还可以这样设置： 
	
	$.ajaxSetup({
		cache:false
	}) 

实际上 jQuery 的这个机制也是通过为请求地址添加不同的查询字符串后缀来实现的。
